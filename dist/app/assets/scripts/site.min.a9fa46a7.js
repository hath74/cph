$(document).ready(function(){var a=(document.querySelectorAll(".pswp")[0],function(a){for(var b=function(a){for(var b,c,d,e,f=a.childNodes,g=f.length,h=[],i=0;g>i;i++)b=f[i],1===b.nodeType&&(c=b.children[0],d=c.getAttribute("data-size").split("x"),e={src:c.getAttribute("href"),w:parseInt(d[0],10),h:parseInt(d[1],10)},b.children.length>1&&(e.title=b.children[1].innerHTML),c.children.length>0&&(e.msrc=c.children[0].getAttribute("src")),e.el=b,h.push(e));return h},c=function k(a,b){return a&&(b(a)?a:k(a.parentNode,b))},d=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,d=c(b,function(a){return a.tagName&&"FIGURE"===a.tagName.toUpperCase()});if(d){for(var e,g=d.parentNode,h=d.parentNode.childNodes,i=h.length,j=0,k=0;i>k;k++)if(1===h[k].nodeType){if(h[k]===d){e=j;break}j++}return e>=0&&f(e,g),!1}},e=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b},f=function(a,c,d,e){var f,g,h,i=document.querySelectorAll(".pswp")[0];if(h=b(c),g={galleryUID:c.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(a){var b=h[a].el.getElementsByTagName("img")[0],c=window.pageYOffset||document.documentElement.scrollTop,d=b.getBoundingClientRect();return{x:d.left,y:d.top+c,w:d.width}}},e)if(g.galleryPIDs){for(var j=0;j<h.length;j++)if(h[j].pid==a){g.index=j;break}}else g.index=parseInt(a,10)-1;else g.index=parseInt(a,10);isNaN(g.index)||(d&&(g.showAnimationDuration=0),f=new PhotoSwipe(i,PhotoSwipeUI_Default,h,g),f.init())},g=document.querySelectorAll(a),h=0,i=g.length;i>h;h++)g[h].setAttribute("data-pswp-uid",h+1),g[h].onclick=d;var j=e();j.pid&&j.gid&&f(j.pid,g[j.gid-1],!0,!0)});a(".my-gallery"),$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html, body").animate({scrollTop:a.offset().top-190},1e3),!1}}),$(window).resize(function(){var a=document.getElementById("js-navigation-more");if($(a).length>0){var b=$(window).width(),c=$(a).offset().left,d=b-c;330>d&&($("#js-navigation-more .submenu .submenu").removeClass("fly-out-right"),$("#js-navigation-more .submenu .submenu").addClass("fly-out-left")),d>330&&($("#js-navigation-more .submenu .submenu").removeClass("fly-out-left"),$("#js-navigation-more .submenu .submenu").addClass("fly-out-right"))}}),$(document).ready(function(){var a=$("#js-mobile-menu").unbind(),b=$(".nav-item");$("#js-navigation-menu").removeClass("show"),b.on("click",function(){$("#js-navigation-menu").removeAttr("style")}),a.on("click",function(a){a.preventDefault(),$("#js-navigation-menu").slideToggle(function(){$("#js-navigation-menu").is(":hidden")&&$("#js-navigation-menu").removeAttr("style")})})}),$("#video-upload-modal").on("change",function(){$(this).is(":checked")?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),$(".open-modal").on("click",function(){$("#video-upload-modal").prop("checked",!0)}),$(".modal-close, .close-modal").on("click",function(){$(".modal-state:checked").prop("checked",!1).change()}),$(".modal-inner").on("click",function(a){a.stopPropagation()}),$(".dropdown-button").click(function(){var a,b;a=$(this),b=a.siblings(".dropdown-menu"),b.toggleClass("show-menu"),b.children("li").click(function(){b.removeClass("show-menu"),a.html($(this).html())})}),$("#contact-form").submit(function(a){function b(a){var b=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return b.test(a)}$("#contact-success").addClass("hide"),$(".form-error").remove(),$(".contact-loader").removeClass("hide");var c={name:$('input[name="contact-name"]').val(),email:$('input[name="contact-email"]').val(),message:$('textarea[name="contact-message"]').val()},d='<div class="form-error fade-in"><ul><li><i class="fa fa-exclamation-circle" aria-hidden="true"></i> ',e='<div class="form-error form-error--textarea fade-in"><ul><li><i class="fa fa-exclamation-circle" aria-hidden="true"></i> ',f="</li></ul></div>";if(""===c.name&&$("#contact-fields-name-field").append(d+"Please enter a name"+f),""===$('input[name="contact-email"]').val()&&$("#contact-fields-emailAddress-field").append(d+"Please enter an email"+f),""===$('textarea[name="contact-message"]').val()&&$("#contact-fields-message-field").append(e+"Please enter a message"+f),""===c.name||""===c.email||""===c.message)return $(".contact-loader").addClass("hide"),!1;if(!b(c.email))return $("#contact-fields-emailAddress-field").append(d+"Please enter a valid email"+f),$(".contact-loader").addClass("hide"),!1;var g="http://cascadiapublichouse.com/contact.php";$.ajax({type:"POST",url:g,data:c}).done(function(a){console.log("success",a),$(":input","#contact-form").not(":button, :submit, :reset").val(""),$("#contact-success").removeClass("hide"),$(".contact-loader").addClass("hide")}).fail(function(a){console.log("fail",a),$("#contact-success").addClass("hide"),$(".contact-loader").addClass("hide")}),a.preventDefault()})});